<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vane üíõ ‚Äî Mi Valentine</title>
  <meta name="description" content="Una peque√±a p√°gina para una gran pregunta." />

  <style>
    :root{
      --bg1:#0b0b10;
      --bg2:#120a14;
      --ink:#f6f1ff;
      --muted:#cdbfe3;
      --gold:#f7d27c;
      --pink:#ff7ab6;

      --card: rgba(255,255,255,0.07);
      --stroke: rgba(255,255,255,0.14);
      --shadow: 0 18px 60px rgba(0,0,0,0.55);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      color:var(--ink);
      background:
        radial-gradient(900px 600px at 20% 15%, rgba(255,122,182,0.20), transparent 55%),
        radial-gradient(700px 520px at 85% 30%, rgba(247,210,124,0.18), transparent 60%),
        linear-gradient(145deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    /* Film grain */
    body:before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="180" height="180"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="180" height="180" filter="url(%23n)" opacity=".14"/></svg>');
      mix-blend-mode:overlay;
      opacity:.25;
    }

    .wrap{
      width: min(720px, 94vw);
      margin: 0 auto;
      padding: 14px 0 56px;
    }

    header{
      display:flex;
      flex-direction:column;
      gap:10px;
      padding: 10px 4px 8px;
    }

    .badge{
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding:10px 12px;
      border:1px solid var(--stroke);
      border-radius:999px;
      background:rgba(255,255,255,0.05);
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      font-size:13px;
      color:var(--muted);
      letter-spacing:.2px;
      width: fit-content;
      max-width: 100%;
    }
    .badge b{ color:var(--ink); }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    button, .btn{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,0.08);
      color:var(--ink);
      padding:11px 14px;
      border-radius:999px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      text-decoration:none;
      display:inline-flex;
      gap:8px;
      align-items:center;
      justify-content:center;
      user-select:none;
      width: fit-content;
    }
    button:active, .btn:active{ transform: scale(0.98); }
    button:hover, .btn:hover{
      background:rgba(255,255,255,0.12);
      border-color: rgba(255,255,255,0.22);
    }

    .btn-primary{
      background: linear-gradient(135deg, rgba(255,122,182,0.92), rgba(247,210,124,0.78));
      border-color: rgba(255,255,255,0.22);
      color:#1a0f1d;
      font-weight:800;
    }

    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
    }

    .hero{
      padding:18px 16px 14px;
      position:relative;
    }

    .glow{
      position:absolute;
      width:420px; height:420px;
      right:-220px; top:-220px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,122,182,0.40), transparent 60%),
        radial-gradient(circle at 60% 60%, rgba(247,210,124,0.28), transparent 60%);
      filter: blur(10px);
      opacity:.75;
      transform: rotate(12deg);
      pointer-events:none;
    }

    h1{
      margin:0 0 6px;
      font-size: clamp(26px, 8vw, 44px);
      letter-spacing:-.4px;
      line-height:1.08;
    }

    .subtitle{
      margin:0;
      color:var(--muted);
      font-size: clamp(14px, 4vw, 17px);
      line-height:1.6;
    }

    .pills{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }

    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:9px 11px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.05);
      color: var(--muted);
      font-size: 12px;
    }

    .dot{
      width:8px; height:8px;
      border-radius:999px;
      background: rgba(247,210,124,0.95);
      box-shadow: 0 0 16px rgba(247,210,124,0.55);
    }

    .content{
      padding: 14px 14px 18px;
      display:grid;
      gap:12px;
    }

    .panel{
      padding:14px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.18);
    }

    .panel h2{
      margin:0 0 8px;
      font-size:16px;
      letter-spacing:.2px;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    .panel p{
      margin:0 0 10px;
      color: var(--muted);
      line-height:1.65;
      font-size: 14px;
    }

    .timeline{ display:grid; gap:10px; margin-top:10px; }

    .moment{
      display:flex;
      gap:10px;
      padding:12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
    }

    .tag{
      flex: 0 0 auto;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight:900;
      font-size:12px;
      color:#1a0f1d;
      background: linear-gradient(135deg, rgba(247,210,124,0.98), rgba(255,122,182,0.78));
      padding:6px 9px;
      border-radius:999px;
      align-self:flex-start;
    }

    .text{
      color:var(--muted);
      font-size:13px;
      line-height:1.55;
    }

    .quote{
      margin-top:12px;
      padding:12px 12px;
      border-left:3px solid rgba(247,210,124,0.9);
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      line-height:1.6;
    }
    .quote em{ color: var(--muted); }

    /* Photos grid (REAL PHOTOS) */
    .photos{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
      margin-top:10px;
    }
    .photos img{
      width:100%;
      height:auto;
      aspect-ratio: 1/1;
      object-fit: cover;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
    }

    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      color: rgba(205,191,227,0.85);
    }

    /* Letter typewriter */
    .letterBox{
      min-height: 220px;
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      position:relative;
      overflow:hidden;
    }
    .letterText{
      white-space:pre-wrap;
      line-height:1.7;
      font-size:14px;
      color: var(--ink);
    }
    .cursor{
      display:inline-block;
      width:10px;
      height:18px;
      margin-left:2px;
      background: rgba(247,210,124,0.9);
      box-shadow:0 0 12px rgba(247,210,124,0.55);
      animation: blink 1s step-end infinite;
      vertical-align:-3px;
    }
    @keyframes blink { 50% { opacity: 0; } }

    .bigQ{
      margin-top:12px;
      padding:16px 14px;
      border-radius: 18px;
      background: rgba(0,0,0,0.20);
      border:1px solid rgba(255,255,255,0.14);
    }
    .bigQ h3{
      margin:0 0 8px;
      font-size:18px;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      letter-spacing:.2px;
    }

    .btnRow{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:10px;
      position:relative;
      min-height: 54px;
    }
    #noBtn{ position:relative; }

    /* Modal */
    .modalBackdrop{
      position:fixed; inset:0;
      background: rgba(0,0,0,0.65);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:999;
    }
    .modal{
      width:min(640px, 96vw);
      background: rgba(15,10,18,0.92);
      border:1px solid rgba(255,255,255,0.16);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding:16px;
      backdrop-filter: blur(12px);
      position:relative;
      overflow:hidden;
    }
    .modal .shine{
      position:absolute;
      inset:-120px -120px auto auto;
      width:380px;
      height:380px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,122,182,0.35), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(247,210,124,0.25), transparent 60%);
      filter: blur(8px);
      opacity:.85;
      pointer-events:none;
      transform: rotate(-10deg);
    }
    .modal h2{ margin:0 0 8px; font-size:22px; letter-spacing:-.2px; }
    .modal p{ margin:0 0 10px; color: var(--muted); line-height:1.65; font-size:14px; }
    .final{
      margin-top:10px;
      padding:12px;
      border-radius:16px;
      background: rgba(255,255,255,0.05);
      border:1px solid rgba(255,255,255,0.12);
      color: var(--ink);
      line-height:1.7;
      white-space:pre-wrap;
      font-size:14px;
    }

    /* Confetti */
    #confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1000;
      display:none;
    }

    footer{
      margin-top:14px;
      color: rgba(205,191,227,0.75);
      font-size: 12px;
      text-align:center;
      padding: 10px 0 0;
    }

    /* Slightly wider screens: 2 columns */
    @media (min-width: 860px){
      header{ flex-direction:row; align-items:center; justify-content:space-between; }
      .content{
        grid-template-columns: 1.1fr .9fr;
        align-items:start;
      }
    }
  </style>
</head>

<body>
  <canvas id="confetti"></canvas>


  <div class="wrap">
    <header>
      <div class="badge">
        <span><b>Para Vane</b> ‚Äî una pregunta con todo mi coraz√≥n</span>
      </div>

      <div class="actions">
        <button id="toggleMusic">M√∫sica</button>
        <button id="skipTyping">Ver carta completa</button>
        <a class="btn" href="#" id="restart">Reiniciar</a>
      </div>
    </header>

    <section class="card">
      <div class="hero">
        <div class="glow"></div>
        <h1>Vane‚Ä¶</h1>
        <p class="subtitle">
          Esto no es una p√°gina. Es una peque√±a escena.
          Una c√°mara √≠ntima, una historia suave‚Ä¶ y una pregunta que ya me sab√≠a la respuesta desde hace rato.
        </p>
      </div>

      <div class="content">
        <div class="panel">
          <h2>Un mini recorrido</h2>
          <p>
            No para presionar el tiempo‚Ä¶ sino para celebrarlo.
            Porque contigo, el tiempo siempre ha tenido su propia velocidad.
          </p>

          <div class="timeline">
            <div class="moment"><div class="tag">01</div><div class="text">El inicio: cuando el mundo se sinti√≥ un poco m√°s bonito por razones que no sab√≠a explicar.</div></div>
            <div class="moment"><div class="tag">02</div><div class="text">Los detalles: esos que nacen sin plan, pero con toda la intenci√≥n.</div></div>
            <div class="moment"><div class="tag">03</div><div class="text">La calma: ese lugar donde no compites con nadie‚Ä¶ solo existes, y eso basta.</div></div>
          </div>

          <div class="quote">
            <strong>‚ÄúSiempre fuiste t√∫.‚Äù</strong><br/>
            <em>Y no como frase bonita: como verdad.</em>
          </div>

          <!-- ===========================
               üì∏ AQU√ç VAN TUS FOTOS
               1) Sube 3 im√°genes al repo, por ejemplo:
                  /img/foto1.jpg
                  /img/foto2.jpg
                  /img/foto3.jpg
               2) Cambia los src de abajo.
               =========================== -->
          <div class="photos" aria-label="Fotos">
            <img src="./img/foto1.jpeg" alt="Nosotros 1" onerror="this.style.display='none'">
            <img src="./img/foto2.jpeg" alt="Nosotros 2" onerror="this.style.display='none'">
            <img src="./img/foto3.jpeg" alt="Nosotros 3" onerror="this.style.display='none'">
          </div>
        </div>

        <div class="panel">
          <h2>Una carta (que se escribe sola)</h2>

          <div class="letterBox">
            <div class="letterText" id="letter"></div><span class="cursor" id="cursor"></span>
          </div>

          <div class="bigQ">
            <h3>La pregunta</h3>
            <p>Resp√≥ndeme como quieras‚Ä¶ pero yo ya te estoy sonriendo desde aqu√≠.</p>

            <div class="btnRow" id="btnRow">
              <button class="btn btn-primary" id="yesBtn">S√≠ üíñ</button>
              <button class="btn" id="noBtn">No üôÉ</button>
            </div>
          </div>

          <p style="margin-top:12px;color:rgba(205,191,227,0.85)">
            <span class="mono">P.D.</span> Si intentas presionar ‚ÄúNo‚Äù, el bot√≥n se pone nervioso 
          </p>
        </div>
      </div>
    </section>

    <footer>Hecho con cari√±o por Mau ‚Äî y un poquito de magia de madrugada ‚ú®</footer>
  </div>

  <!-- ===========================
       üé∂ AQU√ç VA TU M√öSICA
       1) Sube un mp3 al repo, por ejemplo:
          /audio/music.mp3
       2) Cambia el src del <source>
       Nota: usa una pista propia o libre de derechos.
       =========================== -->
  <audio id="bgm" loop preload="auto">
    <source src="./audio/music.mp3" type="audio/mpeg" />
  </audio>

  <div class="modalBackdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
      <div class="shine"></div>
      <h2 id="modalTitle">ü•πüíõ YAMI DIJO QUE S√ç</h2>
      <p>Ok‚Ä¶ respira. Esto es real. De aqu√≠ en adelante, oficialmente: <b>mi Valentine</b>.</p>
      <div class="final" id="finalText"></div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;">
        <button class="btn btn-primary" id="closeModal">Cerrar üíò</button>
        <button class="btn" id="copyMsg">Copiar mensajito ‚úçÔ∏è</button>
      </div>
    </div>
  </div>

  <script>
    // ======================
    // 1) EDITA AQU√ç EL TEXTO
    // ======================
    const LETTER = `Vane‚Ä¶

No s√© en qu√© momento pas√≥,
pero de pronto te convertiste en esa voz que calma el ruido.
Y desde entonces, cada vez que elijo‚Ä¶ te elijo a ti.

No busco una versi√≥n de nadie en ti.
Busco a ti: a la verdadera.
A la que r√≠e con esa luz tan tuya,
a la que siente profundo,
a la que existe con fuerza incluso cuando duda.

Si alguna vez el mundo te hace creer que no eres suficiente,
quiero que recuerdes esto:
en mi historia, no est√°s compitiendo con nadie.
Porque siempre fuiste t√∫.

Y hoy vengo con una pregunta sencilla
que en realidad me cuesta decir sin que se me note la sonrisa‚Ä¶

¬øQuieres ser mi Valentine este 14 de febrero?`;

    const FINAL = `Yami, gracias por decir que s√≠.

Prometo cuidarte bonito.
Con calma cuando lo necesites,
con risa cuando el d√≠a est√© gris,
y con esa forma tan m√≠a de amarte:
con intenci√≥n.

Siempre fuiste t√∫.
‚Äî Mau üíõ`;

    // ======================
    // 2) TYPEWRITER EFFECT
    // ======================
    const letterEl = document.getElementById('letter');
    const cursorEl = document.getElementById('cursor');
    const skipBtn = document.getElementById('skipTyping');

    let i = 0;
    let typingDone = false;

    function typeNext(){
      if(typingDone) return;
      if(i >= LETTER.length){
        typingDone = true;
        cursorEl.style.display = 'none';
        return;
      }
      letterEl.textContent += LETTER[i++];
      const delay = LETTER[i-1] === '\n' ? 130 : 16 + Math.random()*22;
      setTimeout(typeNext, delay);
    }
    typeNext();

    skipBtn.addEventListener('click', () => {
      typingDone = true;
      letterEl.textContent = LETTER;
      cursorEl.style.display = 'none';
    });

    // ======================
    // 3) NO BUTTON RUNS AWAY
    // ======================
    const noBtn = document.getElementById('noBtn');
    const btnRow = document.getElementById('btnRow');

    function moveNoBtn(){
      const rowRect = btnRow.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const maxX = Math.max(0, rowRect.width - btnRect.width);
      const maxY = 44; // keep close for mobile

      const x = Math.random() * maxX;
      const y = (Math.random() * maxY) - 10;

      noBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    noBtn.addEventListener('mouseenter', moveNoBtn);
    noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveNoBtn(); }, {passive:false});
    noBtn.addEventListener('click', (e) => { e.preventDefault(); moveNoBtn(); });

    // ======================
    // 4) YES -> MODAL + CONFETTI
    // ======================
    const yesBtn = document.getElementById('yesBtn');
    const modalBackdrop = document.getElementById('modalBackdrop');
    const finalText = document.getElementById('finalText');
    const closeModal = document.getElementById('closeModal');
    const copyMsg = document.getElementById('copyMsg');

    yesBtn.addEventListener('click', () => {
      finalText.textContent = FINAL;
      modalBackdrop.style.display = 'flex';
      startConfetti(2200);
    });

    closeModal.addEventListener('click', () => {
      modalBackdrop.style.display = 'none';
    });

    modalBackdrop.addEventListener('click', (e) => {
      if(e.target === modalBackdrop) modalBackdrop.style.display = 'none';
    });

    copyMsg.addEventListener('click', async () => {
      try{
        await navigator.clipboard.writeText(FINAL);
        copyMsg.textContent = 'Copiado ‚úÖ';
        setTimeout(() => copyMsg.textContent = 'Copiar mensajito ‚úçÔ∏è', 1200);
      }catch{
        copyMsg.textContent = 'No se pudo copiar :(';
        setTimeout(() => copyMsg.textContent = 'Copiar mensajito ‚úçÔ∏è', 1200);
      }
    });

    // ======================
    // 5) MUSIC TOGGLE
    // ======================
    const bgm = document.getElementById('bgm');
    const toggleMusic = document.getElementById('toggleMusic');
    let musicOn = false;

    toggleMusic.addEventListener('click', async () => {
      const src = bgm.querySelector('source')?.getAttribute('src');
      if(!src){
        toggleMusic.textContent = 'üé∂ (sin pista)';
        setTimeout(() => toggleMusic.textContent = 'üé∂ M√∫sica', 1200);
        return;
      }
      try{
        if(!musicOn){
          await bgm.play();
          musicOn = true;
          toggleMusic.textContent = '‚è∏Ô∏è Pausar';
        }else{
          bgm.pause();
          musicOn = false;
          toggleMusic.textContent = 'üé∂ M√∫sica';
        }
      }catch{
        toggleMusic.textContent = 'üé∂ Toca otra vez';
        setTimeout(() => toggleMusic.textContent = 'üé∂ M√∫sica', 1200);
      }
    });

    // ======================
    // 6) RESTART
    // ======================
    document.getElementById('restart').addEventListener('click', (e) => {
      e.preventDefault();
      i = 0;
      typingDone = false;
      letterEl.textContent = '';
      cursorEl.style.display = 'inline-block';
      noBtn.style.transform = 'translate(0,0)';
      modalBackdrop.style.display = 'none';
      typeNext();
    });

    // ======================
    // 7) CONFETTI (canvas)
    // ======================
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W, H, confetti = [], confettiTimer = null;

    function resize(){
      const dpr = window.devicePixelRatio || 1;
      W = canvas.width = Math.floor(window.innerWidth * dpr);
      H = canvas.height = Math.floor(window.innerHeight * dpr);
    }
    window.addEventListener('resize', resize);
    resize();

    function spawnConfetti(count=140){
      const dpr = window.devicePixelRatio || 1;
      confetti.length = 0;
      for(let k=0;k<count;k++){
        confetti.push({
          x: Math.random()*W,
          y: -Math.random()*H*0.2,
          r: (4 + Math.random()*7) * dpr,
          vx: (-2 + Math.random()*4) * dpr,
          vy: (2 + Math.random()*6) * dpr,
          rot: Math.random()*Math.PI,
          vr: (-0.15 + Math.random()*0.3),
          life: 120 + Math.random()*90
        });
      }
    }

    function draw(){
      ctx.clearRect(0,0,W,H);
      for(const p of confetti){
        p.x += p.vx; p.y += p.vy; p.rot += p.vr; p.life -= 1;

        const t = (p.x/W + p.y/H) % 1;
        ctx.fillStyle = `hsla(${(t*360)}, 80%, 70%, 0.95)`;

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
        ctx.restore();

        if(p.x < -50) p.x = W+50;
        if(p.x > W+50) p.x = -50;
      }
      confetti = confetti.filter(p => p.life > 0 && p.y < H+80);

      if(confetti.length) requestAnimationFrame(draw);
      else canvas.style.display = 'none';
    }

    function startConfetti(ms=1800){
      canvas.style.display = 'block';
      spawnConfetti(160);
      draw();
      if(confettiTimer) clearTimeout(confettiTimer);
      confettiTimer = setTimeout(() => { confetti.length = 0; }, ms);
    }
  </script>
</body>
</html>